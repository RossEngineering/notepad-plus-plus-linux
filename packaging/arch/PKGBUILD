# Maintainer: Dan Ross <danross2683@gmail.com>

pkgname=notepad-plus-plus-linux
pkgver=0.10.0
pkgrel=1
pkgdesc='Linux-native Notepad++ fork for Arch Linux and derivatives'
arch=('x86_64')
url='https://github.com/RossEngineering/notepad-plus-plus-linux'
license=('GPL-3.0-or-later')
depends=('qt6-base' 'qt6-5compat' 'gcc-libs' 'glibc' 'hicolor-icon-theme')
makedepends=('cmake' 'ninja')
install='notepad-plus-plus-linux.install'
options=('!lto')
source=()
sha256sums=()

build() {
  cmake -S "$startdir" -B "$srcdir/build" -G Ninja \
    -DCMAKE_BUILD_TYPE=Release \
    -DNPP_BUILD_QT_SHELL=ON \
    -DBUILD_TESTING=OFF
  cmake --build "$srcdir/build"
}

package() {
  DESTDIR="$pkgdir" cmake --install "$srcdir/build"

  install -Dm644 "$startdir/LICENSE" \
    "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
